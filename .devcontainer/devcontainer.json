{
  "name": "UMRS API",
  "dockerComposeFile": "docker-compose.yml",
  // Default path to open when attaching to a new container.
  "workspaceFolder": "/workspace",
  "service": "umrs-api",
  "settings": {
    "terminal.integrated.shell.linux": "/bin/bash"
  },
  // Container user VS Code should use when connecting
  "remoteUser": "vscode",
  "forwardPorts": [
        3000,
        5432,
  ],
  "portsAttributes": {
    "3000": {
        "label": "web",
        "onAutoForward": "notify",
        "requireLocalPort": true
    },
    "5432": {
        "label": "pgbouncer"
    }
  },

  // Forward the Docker socket to the container (for running docker commands)
  "mounts": [
    {
    "source": "/var/run/docker.sock", "target": "/var/run/docker.sock", "type": "bind"
    },
    {
      "source": "$HOME/.config/nvim", "target": "/home/vscode/.config/nvim", "type": "bind"
    }
  ],

  "features": {
    "ghcr.io/itsmechlark/features/postgresql:1":{},
    "ghcr.io/devcontainers-extra/features/ts-node:1":{},
    "ghcr.io/devcontainers-extra/features/nestjs-cli:2": {},

    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers-extra/features/fzf:1": {},
    "ghcr.io/devcontainers-extra/features/ripgrep:1": {},
    "ghcr.io/devcontainers-extra/features/tmux-apt-get:1": {},
    "ghcr.io/georgofenbeck/features/lazygit-linuxbinary:1":{},
    "ghcr.io/duduribeiro/devcontainer-features/neovim:1": { "version": "stable" },
  },

  // Use Docker Compose to start your app and dependencies
  "postCreateCommand": "docker-compose up -d"
}
